<!doctype html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
  layout:decorate="~{layouts/defaultTemplate}"
>
  <head>
    <meta charset="utf-8" />
    <title th:text="${title}">Login</title>
  </head>

  <body>
    <div layout:fragment="content">
      <h2 th:text="${title}">Login Form</h2>

      <form th:action="@{/login/doLogin}" th:object="${loginModel}" method="post">
        <table>
          <tr>
            <td>User Name</td>
            <td><input type="text" th:field="*{username}" /></td>
            <!-- Field-level error column -->
            <td>
              <h5
                style="color: red"
                th:if="${#fields.hasErrors('username')}"
                th:errors="*{username}"
              >
                Username Error
              </h5>
            </td>
          </tr>

          <tr>
            <td>Password</td>
            <td><input type="password" th:field="*{password}" /></td>
            <!-- Field-level error column -->
            <td>
              <h5
                style="color: red"
                th:if="${#fields.hasErrors('password')}"
                th:errors="*{password}"
              >
                Password Error
              </h5>
            </td>
          </tr>

          <tr>
            <td colspan="2"><input type="submit" value="submit" /></td>
          </tr>
        </table>

        <!-- List of all validation errors -->
        <div th:if="${#fields.hasErrors('*')}">List of Errors</div>
        <div th:each="err : ${#fields.errors('*')}">
          <span style="color: red" th:text="${err}" class="fieldError"></span>
        </div>
      </form>
    </div>
  </body>
</html>
